(()=>{var b=class{static id;get mytype(){return this.constructor}get typename(){return this.mytype.id}toJSON(){return{type:this.typename}}static fromJSON(e,t){return new e}};function I(r){let e=L[r.type];return e.fromJSON(e,r)}var L={};function u(r,e){L[e]=r,r.id=e}var q=class extends b{cellName="";ship;onEnter(e){}},x=class extends q{},O=class extends x{onEnter(e){p("Airlock_Locked").style.display=e.playerShip.toPlanet==e.playerShip.onPlanet?"":"none",p("Airlock_UnLocked").style.display=e.playerShip.toPlanet==e.playerShip.onPlanet?"none":"",p("Airlock_Detach").onclick=()=>{e.depart()}}};u(O,"Airlock");var A=class extends x{};u(A,"Passage");var f=class extends x{opposite="";onEnter(e){document.querySelector("#Ballast b").innerText=this.opposite||""}};u(f,"Ballast");var Z=class r extends x{original="";toJSON(){return{type:this.typename,original:this.original}}static fromJSON(e,t){let n=new r;return n.original=t.original,n}};u(Z,"Debris");var g=class extends q{},R=class r extends g{cargo=[];toJSON(){return{type:this.typename,cargo:this.cargo.map(e=>e.toJSON())}}static fromJSON(e,t){let n=new r;return n.cargo=t.cargo.map(o=>I(o)),n}onEnter(e){document.querySelector("#CargoBay ul").innerHTML=this.cargo.map(t=>`<li>${t.typename}</li>`).join(""),document.getElementById("CargoBay_Empty").style.display=this.cargo.length==0?"":"none",document.getElementById("CargoBay_NonEmpty").style.display=this.cargo.length==0?"none":""}};u(R,"CargoBay");var G=class extends g{onEnter(e){let n=document.querySelector("#Radar canvas").getContext("2d");e.lastTickTimestamp=performance.now(),Q(n,e.star,e.now),window.requestAnimationFrame(he)}};u(G,"Radar");function he(r){let e=document.querySelector("#Radar canvas");if(e.offsetParent===null)return;let t=e.getContext("2d");h.tick(r)&&(Q(t,h.star,h.now),window.requestAnimationFrame(he))}var E=class extends g{},N=class extends E{planetLI(e,t){if(e==h.playerShip.onPlanet)return"";let n=Math.round(Math.hypot(h.playerShip.spaceX-e.x,h.playerShip.spaceY-e.y)*100)/100,o=e==h.playerShip.toPlanet?"checked":"";return`<li><label>
        <input type="radio" name="NavigationComputer_to" value="${t}" ${o}>
        ${e.name} (dist: ${n})
        </label></li>`}showDiv(e){p("NavigationComputer_css").innerHTML=`#NavigationComputer_${e}{display:block !important}`}onEnter(e){if(e.timeFlies){this.showDiv("Flying");return}this.showDiv("Select"),document.querySelector("#NavigationComputer ul").innerHTML=e.star.planets.map(this.planetLI).join(""),p("NavigationComputer_Plot").style.display=this.ship instanceof w?"none":"",p("NavigationComputer_Fly").style.display=this.ship instanceof w?"":"none",p("NavigationComputer_Plot").onclick=()=>{let t=document.querySelector('input[name="NavigationComputer_to"]:checked');return!t||!e.playerShip.onPlanet?!1:(e.playerShip.planTrip(e.playerShip.onPlanet,e.star.planets[parseInt(t.value)],e.now),this.showDiv("Detach"),!0)},p("NavigationComputer_Fly").onclick=()=>{if(!p("NavigationComputer_Plot").onclick())return!1;this.showDiv("Departed"),e.depart()}}};u(N,"NavigationComputer");var pe=["black","darkslategray","darkolivegreen","saddlebrown","darkred","olive","darkslateblue","cadetblue","green","mediumseagreen","steelblue","chocolate","yellowgreen","indianred","darkblue","limegreen","goldenrod","darkseagreen","purple","maroon3","red","darkturquoise","darkorange","gold","yellow","mediumblue","burlywood","lime","mediumspringgreen","blueviolet","crimson","deepskyblue","greenyellow","tomato","orchid","lightsteelblue","fuchsia","khaki","cornflower","plum","deeppink","mediumslateblue","lightsalmon","paleturquoise","palegreen","aquamarine","lightgoldenrod","hotpink","lightpink","lavenderblush"];var s=50,c=5;function ge(r,e,t,n,o,i){n.isAlien?r.rect(e*s,t*s+c,s,s-2*c):r.rect(e*s+c,t*s,s-2*c,s),r.strokeStyle="white",r.fillStyle="white",r.stroke(),r.textBaseline="top",r.fillText(o.cellName||"",e*s+c,t*s),o instanceof E?r.fillText(o.typename[0]+"C",e*s+c,t*s+16):r.fillText(o.typename[0],e*s+c,t*s+16),i&&(i.map[e][t].canBeHere=!0,i.map[e][t].canGoX=n.isAlien,i.map[e][t].canGoY=!n.isAlien,i.map[e][t].ship=n,i.map[e][t].component=o)}function we(r,e,t,n,o){let i=n.passage;if(r.rect((e+i.x)*s,(t+i.y)*s,i.w*s,i.h*s),r.strokeStyle="white",r.fillStyle="white",r.stroke(),r.textBaseline="top",o){let a=new A;for(let m=0;m<i.w;m++)for(let l=0;l<i.h;l++)o.map[m+e][l+t].canBeHere=!0,o.map[m+e][l+t].canGoX=!0,o.map[m+e][l+t].canGoY=!0,o.map[m+e][l+t].ship=n,o.map[m+e][l+t].component=a}}function me(r,e,t,n){r.strokeStyle="white",r.strokeStyle="white",r.fillStyle="white",r.beginPath(),r.moveTo(e*s+c,t*s),r.lineTo(e*s+c*2,(t+.5)*s),r.lineTo(e*s+c,(t+1)*s),r.lineTo((e+1)*s-c,(t+1)*s),r.lineTo((e+1)*s-c*2,(t+.5)*s),r.lineTo((e+1)*s-c,t*s),r.closePath(),r.stroke(),n&&(n.map[e][t].canBeHere=!0,n.map[e][t].canGoY=!0,n.map[e][t].component=new O)}function J(r,e,t,n,o){for(let i=0;i<n.rows.length;i++)for(let a=0;a<n.rows[i].length;a++){let m=n.rows[i][a],l=n.rowToXY(i,a);m.cellName=String.fromCharCode(65+i)+l.y,ge(r,e+l.x,t-l.y,n,m,o)}we(r,e,t,n,o)}function Se(r,e,t,n,o){let i=e.spaceX*t,a=e.spaceY*t;r.fillStyle=e.color,r.fillRect(i,a,2,2)}function be(r,e,t){let n=e.x*t,o=e.y*t;var i=r.createRadialGradient(n-1,o-1,2,n,o,.2*t);i.addColorStop(0,e.color_in),i.addColorStop(1,e.color_out),r.fillStyle=i,r.beginPath(),r.arc(n,o,.2*t,0,7),r.fill()}function Q(r,e,t){let n=r.canvas.width,o=n/e.size,i=n/2;if(r.clearRect(0,0,n,n),e.bright){let a=r.createRadialGradient(i,i,0,i,i,o/2);a.addColorStop(0,"white"),a.addColorStop(.5,e.color),a.addColorStop(1,"transparent"),r.fillStyle=a,r.fillRect(0,0,n,n)}else{let a=r.createRadialGradient(i,i,10,i,i,o/2);a.addColorStop(0,e.color),a.addColorStop(1,"transparent"),r.fillStyle=a,r.fillRect(0,0,n,n)}for(let a of e.planets)be(r,a,o);if(t!==void 0)for(let a of e.ships)Se(r,a,o,0,t)}function ee(r){p("now-day").innerText=(r+1).toString();let e=Math.floor(r/300)+3e3,t=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov"][Math.floor(r%300/30)],n=Math.floor(r%30)+1;p("now-date").innerText=`${n} ${t} ${e}`}var te=class{star;playerShip;walkManager;walkCTX;now=0;lastTickTimestamp;lastDate;_timeFlies=!1;tickInterval=0;get timeFlies(){return this._timeFlies}set timeFlies(e){if(this._timeFlies!=e)if(this._timeFlies=e,e){let t=this;this.lastTickTimestamp=performance.now(),this.tickInterval=setInterval(function(){t.tick()},1e3)}else clearInterval(this.tickInterval)}tick(e){if(!this._timeFlies)return!1;if(e||(e=performance.now()),e<=this.lastTickTimestamp)return!0;this.now+=Math.max(0,Math.min(e-this.lastTickTimestamp,1e3))/1e3,this.lastTickTimestamp=e;let t=Math.floor(this.now);if(this.lastDate!=t){ee(t),this.lastDate=t;let n=Math.ceil(this.playerShip.toTime-this.now);re(`Approaching ${this.playerShip.toPlanet.name} planet in ${n} days`)}for(let n of this.star.ships)n.updateSpaceXY(this.now);return!0}depart(){this.timeFlies=!0,this.walkManager.detach(this.walkCTX)}arrive(){this.playerShip.onPlanet=this.playerShip.toPlanet,this.playerShip.spaceX=this.playerShip.onPlanet.x,this.playerShip.spaceY=this.playerShip.onPlanet.y,this.playerShip.flying=!1,this.timeFlies=!1,this.walkManager.attach(this.walkCTX,this.playerShip.onPlanet.base),re(`Docked to base at ${this.playerShip.onPlanet.name} planet`)}},h=new te;ee(0);var k=class extends b{},W=class extends k{},ne=class extends W{};u(ne,"Rocket");var oe=class extends W{};u(oe,"Fuel");var v=class extends k{},C=class extends v{static color="blue"};u(C,"Water");var T=class extends v{static color="yellow"};u(T,"Iron");var H=class extends v{static color="green"};u(H,"Food");var Y=class extends v{static color="red"};u(Y,"Radioactives");function P(r,e){return r>e&&([r,e]=[e,r]),Math.floor(Math.random()*(e-r+1))+r}function M(r){return r[Math.floor(Math.random()*r.length)]}function D(r){return r.map(e=>({sort:Math.random(),value:e})).sort((e,t)=>e.sort-t.sort).map(e=>e.value)}function _(r){return[...Array(r).keys()]}var d=class r{color;isAlien=!1;rows=[];offsets=[];isPlayerShip=!1;playerOnShip=!1;playerX;playerY;spaceX;spaceY;fromPoint;toPlanet;fromTime;toTime;updateSpaceXY(e,t=!0){for(;e>=this.toTime&&t;)this.toPlanet.dispatch(this,this.toTime);let n=(e-this.fromTime)/(this.toTime-this.fromTime);this.spaceX=this.fromPoint.x+(this.toPlanet.x-this.fromPoint.x)*n,this.spaceY=this.fromPoint.y+(this.toPlanet.y-this.fromPoint.y)*n}planTrip(e,t,n){this.fromPoint=e,this.toPlanet=t,this.fromTime=n;let i=Math.hypot(e.x-t.x,e.y-t.y)/.1;this.toTime=n+i}toJSON(){return{isAlien:this.isAlien,offsets:this.offsets,rows:this.rows.map(e=>e.map(t=>t.toJSON()))}}static fromJSON(e){let t=new r;return t.isAlien=e.isAlien,t.offsets=e.offsets,t.rows=e.rows.map(n=>n.map(o=>I(o))),t}get gridSize(){if(this.isAlien)return{x0:0,x1:0,y0:0,y1:0,w:0,h:0};{let e=0,t=0;for(let n=0;n<this.rows.length;n++)e=Math.max(e,this.rows[n].length-this.offsets[n]),t=Math.max(t,this.offsets[n]);return{x0:0,x1:this.rows.length-1,y0:e,y1:t,w:this.rows.length,h:e+t+1}}}rowToXY(e,t){return this.isAlien?{x:0,y:0}:t>=this.offsets[e]?{x:e,y:1+(t-this.offsets[e])}:{x:e,y:t-this.offsets[e]}}get passage(){return this.isAlien?{x:0,y:0,w:0,h:0}:{x:0,y:0,w:this.rows.length,h:1}}oppositeComponent(e){for(let t=0;t<=this.rows.length;t++){let n=this.rows[t].indexOf(e);if(n>=0)return this.rows[this.rows.length-1-t][n]}}static randomShip(e,t){let o=Object.values(L).filter(a=>a.prototype instanceof g),i=Object.values(L).filter(a=>a.prototype instanceof k);t===void 0&&(t=new r),t.color=M(pe),t.rows=[[],[],[],[]],t.offsets=[0,0,0,0];for(let a=0;a<e;a++){let m=P(0,3),l=M(o),S=new l;if(S.ship=t,S instanceof R){let K=P(0,4);for(let le=0;le<K;le++){let de=M(i);S.cargo.push(new de)}}t.rows[m].push(S)}for(let a=0;a<t.rows.length;a++)t.offsets[a]=P(0,t.rows[a].length);return t.balanceBallast(),t}static newBase(e){let t=new r;return t.color="black",t.rows=[[],[]],t.offsets=[0,0],t.rows[0].push(new N),t.rows[1].push(new G),t.balanceBallast(),t}balanceBallast(){if(!this.isAlien){let n=this.rows.length-1;for(var e=0;e<=n;e++)for(;this.offsets[e]<this.offsets[n-e];)this.rows[e].unshift(new f),this.offsets[e]++;for(var e=0;e<=n;e++)for(;this.rows[e].length<this.rows[n-e].length;)this.rows[e].push(new f);for(var e=0;e<=n;e++)for(;this.rows[e][0]instanceof f&&this.rows[n-e][0]instanceof f;)this.rows[e].shift(),this.rows[n-e].shift(),this.offsets[e]--,this.offsets[n-e]++;for(var e=0;e<=n;e++)for(;this.rows[e].at(-1)instanceof f&&this.rows[n-e].at(-1)instanceof f;)this.rows[e].pop(),this.rows[n-e].pop();for(var e=0;e<=n;e++)for(var t=0;t<=this.rows[e].length;t++)this.rows[e][t]instanceof f&&(this.rows[e][t].opposite=this.rows[n-e][t].typename)}}get topAirlock(){if(this.isAlien)return 0;{let e=0;for(let t=0;t<this.rows.length;t++)e=Math.max(e,this.rows[t].length-this.offsets[t]);for(let t=0;t<this.rows.length;t++)if(this.rows[t].length-this.offsets[t]==e)return t;return 0}}get bottomAirlock(){if(this.isAlien)return 0;{let e=Math.max(...this.offsets);return this.offsets.lastIndexOf(e)}}};var w=class r extends d{flying=!1;onPlanet;updateSpaceXY(e){super.updateSpaceXY(e,!1),e>=this.toTime&&h.arrive()}static randomShip(e){let t=new r;return d.randomShip(e,t),t.color="white",t}};var ae=class{canBeHere=!1;canGoX=!1;canGoY=!1;ship;component},F=class{map=[];constructor(e,t){for(let n=0;n<=e;n++){this.map[n]=[];for(let o=0;o<=t;o++)this.map[n][o]=new ae}}},j=class{x;y;map;box;human;canvas;onEnter;goX(e){return!this.map.map[this.x][this.y].canGoX||!this.map.map[this.x+e][this.y].canBeHere?!1:(this.x+=e,this.reposition(),this.onEnter(this.map.map[this.x][this.y].component),!0)}goY(e,t){return!t&&!this.map.map[this.x][this.y].canGoY||!this.map.map[this.x][this.y+e].canBeHere?!1:(this.y+=e,this.reposition(),this.onEnter(this.map.map[this.x][this.y].component),!0)}goUp(){this.goY(-1),this.human.style.transform="rotate(0deg)"}goDn(e){this.goY(1,e),this.human.style.transform="rotate(180deg)"}goLt(){this.goX(-1),this.human.style.transform="rotate(-90deg)"}goRt(){this.goX(1),this.human.style.transform="rotate(90deg)"}jumpTo(e,t,n=!0){this.x=e,this.y=t,this.reposition(!0),n&&this.onEnter(this.map.map[e][t].component)}reposition(e){e&&this.canvas.classList.add("notransition");let t=(this.x+.5)*s,o=this.box.offsetWidth/2-t;this.canvas.style.left=o+"px";let i=(this.y+.5)*s,m=this.box.offsetHeight/2-i;this.canvas.style.top=m+"px",e&&(this.canvas.offsetHeight,this.canvas.classList.remove("notransition"))}};var z=class{walker;oneShipData;twoShipsData;hasSecondShip=!1;myShip;secondShip;putTwoShips(e,t){let n=e.gridSize,o=t.gridSize,i=e.bottomAirlock,a=t.topAirlock,m=Math.max(i,a)+1,l=n.h+1,S=m+Math.max(n.w-i,o.w-a),K=l+o.h+1;this.myShip=t,this.secondShip=e,this.hasSecondShip=!0,this.twoShipsData={ax0:m-i+n.x0,ay0:n.y0+1,airlock_x:m,airlock_y:l,bx0:m-a+o.x0,by0:l+o.y0+1,max_x:S,max_y:K}}drawTwoShips(e,t,n){this.putTwoShips(t,n);let o=this.twoShipsData,i=new F(o.max_x,o.max_y);this.walker.map=i,e.canvas.width=s*(o.max_x+1),e.canvas.height=s*(o.max_y+1),J(e,o.ax0,o.ay0,t,i),J(e,o.bx0,o.by0,n,i),me(e,o.airlock_x,o.airlock_y,i)}drawMyShip(e){this.hasSecondShip=!1;let t=this.oneShipData=this.myShip.gridSize,n=this.walker.map=new F(t.w+1,t.h+1);e.canvas.width=s*(t.w+2),e.canvas.height=s*(t.h+2),J(e,t.x0+1,t.y0+1,this.myShip,n)}detach(e){if(!this.hasSecondShip)return!1;let t=!1;if(this.walker.y==this.twoShipsData.airlock_y&&(this.walker.y++,t=!0),this.secondShip.playerOnShip=this.walker.y<this.twoShipsData.airlock_y,this.myShip.playerOnShip=this.walker.y>this.twoShipsData.airlock_y,!(this.walker.y<this.twoShipsData.airlock_y)){let n=this.myShip.playerX=this.walker.x-this.twoShipsData.bx0,o=this.myShip.playerY=this.walker.y-this.twoShipsData.by0;this.drawMyShip(e),t?(this.walker.jumpTo(this.oneShipData.x0+1+n,this.oneShipData.y0+o,!1),this.walker.goDn(!0)):this.walker.jumpTo(this.oneShipData.x0+1+n,this.oneShipData.y0+1+o,!1)}}attach(e,t){if(this.hasSecondShip)return!1;let n=this.walker.x-1-this.oneShipData.x0,o=this.walker.y-1-this.oneShipData.y0;this.drawTwoShips(e,t,this.myShip),this.walker.jumpTo(this.twoShipsData.bx0+n,this.twoShipsData.by0+o)}};function xe(r,e){let t=Math.hypot(r,e);return[r/t,e/t]}function ke(r,e){return r[0]*e[0]+r[1]*e[1]}function ve(r,e,t){let n=xe(r.x-e.x,r.y-e.y),o=ke(n,[t.x-e.x,t.y-e.y]);return[e.x+n[0]*o,e.y+n[1]*o]}function se(r,e,t,n){let[o,i]=ve(r,e,t);return o>=Math.min(r.x,e.x)&&o<=Math.max(r.x,e.x)&&i>=Math.min(r.y,e.y)&&i<=Math.max(r.y,e.y)&&Math.hypot(o-t.x,i-t.y)<n}var ue=function(){let r=[C,T,H,Y];for(var e=[[null,"water-mining","farming","burning"],["ice",null,"hunting","fire"],["fishy","bio-mining",null,"nuclear"],["frozen","hot mining","ice-farming",null]],t=[["ocean",null,C,"navy","blue"],["mining",null,T,"olive","yellow"]],n=0;n<4;n++)for(var o=0;o<4;o++)n!=o&&t.push([e[n][o],r[n],r[o],r[n].color,r[o].color]);return t}(),$=class{x;y;type;name;buys;sells;color_in;color_out;neighbours;base;constructor(e,t,n){var o=ue[n];this.x=e,this.y=t,this.type=n,this.name=o[0],this.buys=o[1],this.sells=o[2],this.color_in=o[3],this.color_out=o[4],this.base=d.newBase(this)}save(){return[this.x,this.y,this.type]}dispatch(e,t){let n=this.neighbours.shift();this.neighbours.push(n),e.planTrip(this,n,t)}};function Ce(r,e,t){var n=t/2;return r<n+.6&&r>n-.6&&e<n+.6&&e>n-.6}function ce(r){for(var e=D(_(ue.length)),t=0;t<100;t++){for(var n=!1,o=[],i=D(_(r)),a=D(_(r)),m=r/2,l=0;l<r;l++)Ce(i[l]+.5,a[l]+.5,r)&&(n=!0),o.push([i[l]+.5,a[l]+.5,e[l]]);if(!n)return o}return console.error("should not be here"),[]}var Te=["AliceBlue","AntiqueWhite","Aqua","Aquamarine","Azure","Beige","Bisque","BlanchedAlmond","Blue","BlueViolet","Brown","BurlyWood","CadetBlue","Chartreuse","Chocolate","Coral","CornflowerBlue","Cornsilk","Crimson","Cyan","DarkGray","DarkGrey","DarkKhaki","DarkOrange","DarkOrchid","DarkSalmon","DarkSeaGreen","DarkTurquoise","DarkViolet","DeepPink","DeepSkyBlue","DimGray","DodgerBlue","FireBrick","FloralWhite","Fuchsia","Gainsboro","GhostWhite","Gold","Goldenrod","Gray","GreenYellow","Grey","Honeydew","HotPink","IndianRed","Ivory","Khaki","Lavender","LavenderBlush","LawnGreen","LemonChiffon","LightBlue","LightCoral","LightCyan","LightGoldenrodYellow","LightGray","LightGreen","LightGrey","LightPink","LightSalmon","LightSeaGreen","LightSkyBlue","LightSlateGray","LightSlateGrey","LightSteelBlue","LightYellow","Lime","LimeGreen","Linen","Magenta","MediumAquamarine","MediumBlue","MediumOrchid","MediumPurple","MediumSeaGreen","MediumSlateBlue","MediumSpringGreen","MediumTurquoise","MediumVioletRed","MintCream","MistyRose","Moccasin","NavajoWhite","OldLace","Orange","OrangeRed","Orchid","PaleGoldenrod","PaleGreen","PaleTurquoise","PaleVioletRed","PapayaWhip","PeachPuff","Peru","Pink","Plum","PowderBlue","Red","RosyBrown","RoyalBlue","Salmon","SandyBrown","Seashell","Sienna","Silver","SkyBlue","SlateBlue","SlateGray","SlateGrey","Snow","SpringGreen","SteelBlue","Tan","Thistle","Tomato","Turquoise","Violet","Wheat","White","WhiteSmoke","Yellow","YellowGreen"];function Pe(r,e){for(var t=_(e).map(a=>[]),n=(e-1)/2,o=Math.floor(n);o<=Math.ceil(n);o++)for(var i=Math.floor(n);i<=Math.ceil(n);i++)t[o+1][i+1]=r;return t}var V=class{color;size;visited;x;y;bright;name;grid;planets;ships;jobs;constructor(e){e||(e={c:M(Te),s:P(5,9),p:!1,v:!1}),this.color=e.c,this.size=e.s,this.visited=e.v,this.x=this.y=this.size/2,this.bright=!1,this.name=this.color,this.ships=[],this.size%2==0&&(this.bright=!0,this.name="bright "+this.name),this.grid=Pe(this,this.size),e.p||(e.p=ce(this.size)),this.planets=e.p.map(n=>new $(...n));for(var t of this.planets)t.neighbours=D(this.planets.filter(n=>n!=t&&!this.pathCollides(n,t))),this.grid[Math.floor(t.x)][Math.floor(t.y)]=t}pathCollides(e,t){if(se(e,t,this,.5))return!0;for(var n of this.planets)if(n!=e&&n!=t&&se(e,t,n,.2))return!0;return!1}addRandomShips(e){this.ships=[];for(let t=0;t<this.planets.length;t++)for(let n=0;n<t;n++){if(this.planets[t].neighbours.indexOf(this.planets[n])<0)continue;let o=d.randomShip(15),a=Math.hypot(this.planets[t].x-this.planets[n].x,this.planets[t].y-this.planets[n].y)/.1;this.planets[t].dispatch(o,e-a),this.ships.push(o)}}save(){return{c:this.color,s:this.size,p:this.planets.map(e=>e.save()),v:this.visited}}};function p(r){let e=document.getElementById(r);if(!e)throw ReferenceError(`element ${r} not found`);return e}function Ot(r){let e=p(r);if(!(e instanceof HTMLInputElement))throw ReferenceError(`element ${r} is not input`);return e}(location.hostname=="localhost"||location.hostname=="127.0.0.1")&&new EventSource("/esbuild").addEventListener("change",()=>location.reload());var U=w.randomShip(15);window.gs=h;h.star=new V;h.star.ships.push(U);h.playerShip=U;var y=new j,B=new z;B.walker=y;h.walkManager=B;var fe=p("myCanvas"),ye=fe.getContext("2d");y.box=p("canvasBox");y.human=p("human");y.canvas=fe;y.onEnter=De;h.walkCTX=ye;function Me(){B.myShip=U,B.drawMyShip(ye),y.jumpTo(B.oneShipData.x0+1,B.oneShipData.y0+1),U.planTrip({x:h.star.planets[0].x-.1,y:h.star.planets[0].y},h.star.planets[0],-1),h.now=0,h.arrive()}Me();window.onkeypress=r=>{switch(r.key){case"w":y.goUp();break;case"a":y.goLt();break;case"s":y.goDn();break;case"d":y.goRt();break}};function De(r){r&&(p("currentComponent").innerHTML=`#${r.typename} {display:block}`,r.cellName?p("componentLegend").innerText=`${r.cellName}: ${r.typename}`:p("componentLegend").innerText=`${r.typename}`,r.onEnter(h))}function re(r){p("status").innerText=r}})();
//# sourceMappingURL=script.js.map
